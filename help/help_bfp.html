<html>

<head>
<title>qgSurf - Best Fit Plane</title>
	<style>
h5 { font-size: 95%; color: #333; }
img { max-width: 95%; }
</style>
</head>

<body style="margin: 20px 30px 10px 30px;">

<h3>qgSurf - Best Fit Plane - help</h3>

<div style="font-size: 90%; font-style: italic;">
	Version 1.0.0 - plugin creator: Mauro Alberti.
</div>

<h4>Plugin rationale</h4>

<div>
	By coupling mapping or remote sensing information with topographic data, this plugin allows to estimate the attitude
	of best-fit-plane to a set of points or lines lying on a topographic surface (example in Fig. 1).
	This is a common task in geological mapping and analysis.
</div>

<figure>
	<img src="images/Fig_01.png"/>
	<figcaption>
		Fig. 1. Example of estimation of a fault attitude in the western border of Mt. Alpi zone (Southern Italy).
	</figcaption>
</figure>

<h4>Input data</h4>

<div>
	Elevation information is provided by a Digital Elevation Model (DEM). Points can be digitized by the user directly
	on the map canvas or alternatively loaded from a point/line layers.
	When the source DEM crs is in polar coordinates (i.e., latitude and longitude) or its vertical distance unit is
	different from the horizontal one (e.g., meters for the height and decimal degrees for the horizontal location),
	it is crucial to assign to the project a planar CRS (e.g., UTM) with resulting
	horizontal and vertical measures expressed in the same distance units (e.g., meters both for horizontal and vertical
	distances), in order to avoid incorrect results.
</div>

<h4>Plugin usage</h4>

<div>
	The user defines the DEM to be used as elevation source, by choosing from the rasters loaded in the project (ref. 1 in Fig. 2).
	Afterwards the locations defining the geological plane to be estimated are entered, via digitization of three or more
	points in the map canvas (ref. 2), or alternatively by choosing a loaded point/line layer (ref. 5 and then 4).
	In the latter case, selected elements will be used for the best-fit-plane calculation. When there is no active selection, all records will be used.
	The coordinates of the points defined in the map are added in the list of source points [6].
	It is possible to reset the list of points by clicking the <b>Reset all source points</b> button (#3).
	Data can also originate from a loaded layer, chosen in the [5] list and then clicking the <b>Get source points from layer</b>.
	<br /><br />
	When finished with the point definition, the best-fit-plane can be calculated by pressing the
	<b>Calculate best-fit plane</b> button [7]. A pop-up window should normally display the resulting plane dip direction
	and dip angle (see example in Fig. 1).
	<br /><br />
	It is possible to save one or more set of best-fit plane solutions, together with their source points, in a shapefile.
	To this purpose, the user can create a new, ad-hoc shapefile with the <b>Create shapefile for storing results</b> button [8].
	Computed results can be added to this shapefile with the <b>Add current solution to shapefile</b> button [10],
	that opens a window when the user can insert a description of the computed solution (max. of 50 characters allowed).
	<br /><br />
	When completed an analysis session, the results can be saved to the shapefile with the
	<b>Save and stop edits in shapefile</b> button [11] and loaded in the QGis project.
	<br />
	In a successive session, the previously created shapefile can be loaded with the <b>Use previous shapefile</b> button
	[9] and then new results added with the described commands.
</div>

<figure>
	<img src="images/Fig_02.png"/>
	<figcaption>
		Fig. 2. Screenshot of the module window.
	</figcaption>
</figure>

<h4>Methodology</h4>

<div>
	The basis of the algorithm is the application of singular value decomposition to derive the eigenvectors of a set of measures.
	<br />See, for instance, the discussion in
	<a href="http://stackoverflow.com/questions/15959411/fit-points-to-a-plane-algorithms-how-to-iterpret-results">
		Best fit plane algorithms why different results?</a>.
</div>

<br /><br />

<div style="font-size: 85%; font-style: italic;">
-----
<br /><br /><br />
Doc version 2018-08-21, by Mauro Alberti - <a href="mailto:alberti.m65@gmail.com">alberti.m65@gmail.com</a>
</div>

<br /><br /><br />

</body>

</html>